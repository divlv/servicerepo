{% if edit==0 %}
<script type="text/javascript">


    $(document).ready(function () {
        $('#endpoint1').focus();

        $('#endpoint1').blur(function () {

            if ($('#endpoint1').val().trim() == "") {
                $('#endpoint1').addClass("is-invalid");
                $('#savebutton').prop("disabled", true);
                $('#savebutton').addClass(" btn-secondary");
            } else {
                $('#endpoint1').removeClass("is-invalid");
                $('#savebutton').removeClass(" btn-secondary");
                $('#savebutton').prop("disabled", false);

                $.post('/checkendpoint',
                       {"endpoint": $('#endpoint1').val()},
                       function (data) {
                           if (data.count != "0") {
                               $('#endpoint1').addClass("is-invalid");
                               $('#savebutton').prop("disabled", true);
                               $('#savebutton').addClass(" btn-secondary");

                           } else {
                               $('#endpoint1').removeClass("is-invalid");
                               $('#savebutton').removeClass(" btn-secondary");
                               $('#savebutton').prop("disabled", false);
                           }
                       }, 'json');
            }

        });

    });

</script>

{% endif %}